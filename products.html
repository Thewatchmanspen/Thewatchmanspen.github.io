<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Products | The Watchmanâ€™s Pen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* --- BACKGROUND VIDEO --- */
#bg-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -2;
  filter: brightness(0.35) saturate(1.2);
}

/* --- OVERLAY GRADIENT --- */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, rgba(255,215,0,0.08), transparent 60%),
              linear-gradient(to bottom, rgba(0,0,0,0.6), #000);
  z-index: -1;
}

/* --- BASE STYLES --- */
body {
  margin:0;
  font-family: 'Segoe UI', system-ui, sans-serif; /* Added nicer font fallback */
  color:#fff;
  text-align:center;
  overflow-x:hidden;
  padding-bottom:100px;
  backdrop-filter: blur(0px); /* Fixed: Blur on body can cause performance issues, moved to elements */
}

h1 {
  margin-top:80px;
  font-size:2.5rem;
  margin-bottom:40px;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow: 0 0 20px rgba(255,215,0,0.25);
}

/* --- TABS (GLASS) --- */
.tab-container {
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:20px;
  margin-bottom:40px;
  padding: 0 10px;
}

.tab-container button {
  padding:15px 40px;
  font-size:1.1rem;
  font-weight:bold;
  border-radius:30px; /* Made more pill-shaped */
  border:1px solid rgba(255,255,255,0.25);
  background:rgba(255,255,255,0.12);
  color:#fff;
  cursor:pointer;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
  transition:0.4s;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.tab-container button:hover {
  transform:translateY(-3px);
  background:rgba(255,255,255,0.25);
  box-shadow: 0 15px 35px rgba(255, 215, 0, 0.2);
}

.tab-container button.active {
  background:linear-gradient(135deg, gold, #ffec8b);
  color:#000;
  border-color: gold;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
}

/* --- GALLERIES --- */
.gallery {
  display:none; /* Hidden by default */
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* IMPROVEMENT: Responsive Grid */
  gap:30px;
  max-width:1200px; /* IMPROVEMENT: Wider on desktop */
  margin:auto;
  opacity:0;
  transform:translateY(30px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  padding:0 20px;
}

.gallery.active {
  display: grid; /* Changed from block to grid */
}

.gallery.show {
  opacity:1;
  transform:translateY(0);
}

/* --- ITEM CARDS (GLASS) --- */
.item {
  background:rgba(255,255,255,0.05);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border-radius:22px;
  padding:20px;
  border:1px solid rgba(255,255,255,0.1);
  box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  transition:0.4s;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.item:hover {
  transform:translateY(-8px);
  box-shadow:0 25px 60px rgba(255,215,0,0.15);
  border-color:rgba(255,215,0,0.5);
  background:rgba(255,255,255,0.1);
}

/* Media Container to keep images uniform */
.media-container {
  width: 100%;
  aspect-ratio: 4/5; /* Vertical rectangle */
  overflow: hidden;
  border-radius: 15px;
  margin-bottom: 15px;
  cursor: pointer;
}

.item img,
.item video {
  width:100%;
  height: 100%;
  object-fit: cover;
  transition:0.5s;
}

.media-container:hover img {
  transform:scale(1.1);
}

.item h3 {
  margin: 10px 0 5px 0;
  font-size: 1.3rem;
}

.item p {
  color: #ddd;
  font-size: 0.9rem;
  line-height: 1.4;
  margin-bottom: 15px;
}

/* --- PRICE TAG --- */
.price {
  font-size:1.4rem;
  font-weight:bold;
  color:#ffd700;
  text-shadow:0 0 12px rgba(255,215,0,0.3);
  margin-top: auto;
  display: block;
}

/* --- BUTTONS (GLASS) --- */
#homeButton,
#contactButton {
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.25);
  background:rgba(0,0,0,0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color:#fff;
  font-weight:bold;
  box-shadow:0 10px 25px rgba(0,0,0,0.5);
  transition:0.3s;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 1px;
}

#homeButton:hover,
#contactButton:hover {
  background:gold;
  color:#000;
  box-shadow: 0 0 20px gold;
}

/* --- FIXED POSITIONS --- */
#homeButton { position:fixed; top:30px; left:30px; z-index:1000; padding:12px 25px; }
#contactButton { position:fixed; bottom:30px; right:30px; left: auto; transform:none; padding:15px 30px; z-index:1000; border-radius: 30px; }

/* --- LIGHTBOX --- */
#lightbox {
  display:none; /* Flex when active */
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.9);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  justify-content:center;
  align-items:center;
  z-index:10000;
  flex-direction: column;
  opacity: 0;
  transition: opacity 0.3s;
}

#lightbox.active {
  opacity: 1;
}

#lightbox img {
  max-width:90%;
  max-height:80vh;
  border-radius:10px;
  box-shadow: 0 0 50px rgba(0,0,0,0.8);
  border: 1px solid rgba(255,255,255,0.2);
}

#close-lightbox {
  margin-top: 20px;
  background: transparent;
  border: 1px solid white;
  color: white;
  padding: 10px 30px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 1rem;
  transition: 0.3s;
}

#close-lightbox:hover {
  background: white;
  color: black;
}

footer {
  margin-top:60px;
  color:#888;
  font-size:0.8rem;
}
</style>
</head>

<body>

<video id="bg-video" src="animate.mp4" poster="fallback-image.jpg" autoplay muted loop playsinline></video>

<button id="homeButton" onclick="window.location.href='index.html'">Home</button>

<h1>Our Collections</h1>

<div class="tab-container">
  <button class="tab-btn active" onclick="openCategory(event, 'pens')">Fountain Pens</button>
  <button class="tab-btn" onclick="openCategory(event, 'journals')">Journals</button>
  <button class="tab-btn" onclick="openCategory(event, 'inks')">Inks & Refills</button>
</div>

<div id="pens" class="gallery active">
  
  <div class="item">
    <div class="media-container" onclick="openLightbox('https://images.unsplash.com/photo-1585336261022-680e295ce3fe?q=80&w=800&auto=format&fit=crop')">
       <img src="https://images.unsplash.com/photo-1585336261022-680e295ce3fe?q=80&w=800&auto=format&fit=crop" alt="Gold Fountain Pen">
    </div>
    <h3>The Royal Sovereign</h3>
    <p>18k Gold nib, handcrafted resin body with gold trimming.</p>
    <span class="price">$245.00</span>
  </div>

  <div class="item">
    <div class="media-container" onclick="openLightbox('https://images.unsplash.com/photo-1517260739837-e070d37651a1?q=80&w=800&auto=format&fit=crop')">
      <img src="https://images.unsplash.com/photo-1517260739837-e070d37651a1?q=80&w=800&auto=format&fit=crop" alt="Silver Pen">
    </div>
    <h3>The Silversmith</h3>
    <p>Sterling silver casing with a rhodium-plated nib for smooth flow.</p>
    <span class="price">$180.00</span>
  </div>

  <div class="item">
    <div class="media-container" onclick="openLightbox('https://images.unsplash.com/photo-1565610237099-b57008a0d01d?q=80&w=800&auto=format&fit=crop')">
      <img src="https://images.unsplash.com/photo-1565610237099-b57008a0d01d?q=80&w=800&auto=format&fit=crop" alt="Classic Black Pen">
    </div>
    <h3>The Executive</h3>
    <p>Matte black finish with gunmetal accents. Professional and sleek.</p>
    <span class="price">$120.00</span>
  </div>

</div>

<div id="journals" class="gallery">
  
  <div class="item">
    <div class="media-container" onclick="openLightbox('https://images.unsplash.com/photo-1544816155-12df9643f363?q=80&w=800&auto=format&fit=crop')">
      <img src="https://images.unsplash.com/photo-1544816155-12df9643f363?q=80&w=800&auto=format&fit=crop" alt="Leather Journal">
    </div>
    <h3>Vintage Leather</h3>
    <p>Hand-bound genuine leather with 200 GSM thick paper.</p>
    <span class="price">$45.00</span>
  </div>

  <div class="item">
    <div class="media-container" onclick="openLightbox('https://images.unsplash.com/photo-1589829085413-56de8ae18c73?q=80&w=800&auto=format&fit=crop')">
      <img src="https://images.unsplash.com/photo-1589829085413-56de8ae18c73?q=80&w=800&auto=format&fit=crop" alt="Black Notebook">
    </div>
    <h3>Midnight Note</h3>
    <p>Hardcover, dotted grid pages suitable for bullet journaling.</p>
    <span class="price">$25.00</span>
  </div>

</div>

<div id="inks" class="gallery">
  
  <div class="item">
    <div class="media-container" onclick="openLightbox('https://images.unsplash.com/photo-1586075010923-2dd45eeed858?q=80&w=800&auto=format&fit=crop')">
      <img src="https://images.unsplash.com/photo-1586075010923-2dd45eeed858?q=80&w=800&auto=format&fit=crop" alt="Ink Bottle">
    </div>
    <h3>Royal Blue Ink</h3>
    <p>50ml glass bottle. Quick drying and vibrant color.</p>
    <span class="price">$18.00</span>
  </div>

</div>

<button id="contactButton" onclick="window.location.href='contact.html'">Contact Us</button>

<div id="lightbox" onclick="closeLightbox(event)">
  <img id="lightbox-img" src="" alt="Zoomed Product">
  <button id="close-lightbox">Close View</button>
</div>

<footer>
  &copy; 2024 The Watchman's Pen. Crafted with precision.
</footer>

<script>
  // 1. INIT: Trigger the animation for the default active gallery
  document.addEventListener("DOMContentLoaded", () => {
    const activeGallery = document.querySelector('.gallery.active');
    if(activeGallery) {
      setTimeout(() => {
        activeGallery.classList.add('show');
      }, 100);
    }
  });

  // 2. TAB SWITCHING LOGIC
  function openCategory(evt, categoryName) {
    // A. Remove 'active' class from all buttons
    const tabButtons = document.querySelectorAll('.tab-btn');
    tabButtons.forEach(btn => btn.classList.remove('active'));

    // B. Add 'active' class to clicked button
    evt.currentTarget.classList.add('active');

    // C. Hide all galleries (remove active and show classes)
    const galleries = document.querySelectorAll('.gallery');
    galleries.forEach(gallery => {
      gallery.classList.remove('show'); // Fade out
      setTimeout(() => {
        if(!gallery.classList.contains('show')) {
           gallery.classList.remove('active'); // Remove from DOM flow after fade
        }
      }, 300); // Wait for CSS transition
    });

    // D. Show the specific gallery
    // We use a slight timeout to allow the previous one to start fading out
    // and to let the browser register the 'display: grid' before adding opacity
    setTimeout(() => {
        galleries.forEach(g => g.classList.remove('active')); // Ensure all clean
        
        const targetGallery = document.getElementById(categoryName);
        targetGallery.classList.add('active');
        
        // Small delay to trigger CSS transition
        setTimeout(() => {
          targetGallery.classList.add('show');
        }, 50);
    }, 300);
  }

  // 3. LIGHTBOX LOGIC
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightbox-img');

  function openLightbox(imageSrc) {
    lightboxImg.src = imageSrc;
    lightbox.style.display = 'flex';
    // Slight delay to allow display:flex to apply before opacity transition
    setTimeout(() => {
      lightbox.classList.add('active');
    }, 10);
  }

  function closeLightbox(event) {
    // Close if clicking the background OR the close button
    // (Prevents closing if clicking the image itself)
    if (event.target !== lightboxImg) {
      lightbox.classList.remove('active');
      setTimeout(() => {
        lightbox.style.display = 'none';
        lightboxImg.src = '';
      }, 300); // Match CSS transition time
    }
  }
</script>

</body>
</html>
